# lab1

Условия задач и описание решений

## [Задача 2. Ловкость рук](./src/tasks/task2.rs)

*Ограничение по времени: 1 с. Ограничение по памяти: 64 Mb.*

Гоша и Тимофей нашли необычный тренажер для скоростной печати и хотят освоить его. Тренажер представляет собой поле из клавиш 4×4, к котором на каждом раунде появляется конфигурация цифр и точек. На клавише написана либо точка, либо цифра от 1 до 9. В момент времени t игрок дожен одновременно нажать на все клавиши, на которых написана цифра t. Гоша и Тимофей могут нажать в один момент времени на k клавиш каждый. Если в момент времени t были нажаты все нужные клавиши, то игроки получают 1 балл. Найдите число баллов, которое смогут заработать Гоша и Тимофей, если будут нажимать на клавиши вдвоём.

### Формат входных данных

В первой строке дано целое число k (1 ≤ k ≤ 5). В четырех следующих строках
заданвид тренажера – по 4 символа в каждой строке. Каждый символ – либо точка, либо цифра от 1 до 9. Символы одной строки идут подряд и не разделены пробелами.

### Формат выходных данных

Выведите едиственное число – максимальное количество баллов, которое смогут набрать Гоша и Тимофей.

### Примеры

| Стандартный ввод                  | Стандартный вывод |
| --------------------------------- | ----------------- |
| 3<br>1231<br>2..2<br>2..2<br>2..2 | 2                 |
| 4<br>1111<br>9999<br>1111<br>9911 | 1                 |
| 4<br>1111<br>1111<br>1111<br>1111 | 0                 |

### Решение

Завел словарь, в котором сохранил количество клавиш на тренажере для каждой цифры. Циклом прошел от 0 до 9, проверяя на каждом шаге, что для данной секунды t количество клавиш с номером t, сохраненное в словаре, не превышает количество клавиш k, которые возможно нажать одновременно.

## [Задача 3. Симметрическая разность](./src/tasks/task3.rs)

*Ограничение по времени: 2 с. Ограничение по памяти: 64 Mb.*

На вход подается множество чисел в диапазоне от 1 до 20000, разделенных пробелом. Они образуют множество А. Затем идет разделитель – число 0 и на вход подается множество чисел В, разделенных пробелом, 0 – признак конца описания множества (во множество не входит). Необходимо вывести множество АΔВ – симметрическую разность множеств А и В в порядке возрастания элементов. В качестве разделителя используйте пробел. В случае, если множество пусто, вывести 0.

### Формат входных данных:

1 2 3 4 5 0 1 7 5 8 0

### Формат выходных данных:

2 3 4 7 8

### Примеры:

| Стандартный ввод            | Стандартный вывод |
| --------------------------- | ----------------- |
| 1 2 6 8 7 3 0 4 1 6 2 3 9 0 | 4 7 8 9           |

### Решение

Добавил элементы множеств в два хэш-сета. Прошелся по обоим через цикл, добавляя элементы, которые надобятся в одном, но не в другом в результирующее множество. С помощью [пузырьковой сортировки](./src/modules/sorting.rs) создал упорядоченный список из результирующего множества.

## [Задача 5. Длинное сложение и вычитание](./src/tasks/task5.rs)

*Ограничение по времени: 2 с. Ограничение по памяти: 64 Mb.*

На вход подается три строки. Первая содержит представление длинного десятичного числа (первый операнд), вторая – представление операции, строки + и -, третья – представление второго операнда.

Длина первой и третьей строки ограничены 1000 символами. Вторая строка содержит ровно один символ.

Требуется исполнить операцию и вывести результат в десятичном представлении.

### Формат входных данных:

123

\+

999

### Формат выходных данных:

1122

### Примеры:

| Стандартный ввод | Стандартный вывод |
| ---------------- | ----------------- |
| 232<br>+<br>-100 | 132               |
| -100<br>-<br>199 | -299              |

### Решение

Создал структуру для хранения больших чисел [BigInt](./src/modules/big_int.rs), экземпляры которой создаются методом from_str принимающим строку с большим числом. Она хранит поле bool, обозначающее знак числа, и список чисел не превосходящих десяти – digits.

Структура поддерживает операции: сложения, вычитания, сравнения. Сравнение происходит сперва по знаку числа, потом проходом по массиву чисел. Сложение и вычитание сперва проверяют, что числа одинакового знака, в противном случае перенаправляют на противоположную операцию.

При сложении производится проход по двум массивам, если их длина не совпадает, недостающие значения заменяются нулями. На каждой итерации считаем сумму и перенос, записываем в результат.

При вычитании проверяем, что уменьшаемое больше вычитаемого иначе меняем их местами. В вычитании будет браться заимствование, который на первой итерации будет равен нулю. Делаем проход по двум массивам вычисляем `difference = self_digit - other_digit - borrow`. Если оно меньше нуля, то берем единичку у следующего числа.

## [Задача 7. Две кучи](./src/tasks/task7.rs)

*Ограничение по времени: 2 с. Ограничение по памяти: 64 Mb.*

Имеется 2 ≤ N ≤ 23 камня с целочисленными весами W1, W2, … WN. Требуется разложить их на две кучи таким образом, чтобы разница в весе куч была минимальной. Каждый камень должен принадлежать ровно одной куче.

### Формат входных данных:
N

W1 W2 W3 … WN

### Формат выходных данных:

Минимальная неотрицательная разница в весе куч

### Примеры:

| Стандартный ввод | Стандартный вывод |
| ---------------- | ----------------- |
| 5  8 9 6 9 8     | 4                 |
| 6  14 2 12 9 9 8 | 2                 |

### Решение

Запустил рекурсивную функцию find_min_diff, которая принимает ссылку на срез массива с весами и два числа - две кучи. При первом запуске подаем полный список весов и два нуля в кучи.

Внутри функции смотрим:

- Если срез пустой, возвращаем модуль разности получившихся куч.
- Если срез не пустой, удаляем из него первый элемент, но сохраняем его в переменной. Дважды вызываем функцию с укороченным срезом: в первый раз добавляем убранный элемент в первую кучу, во второй во вторую. Возвращаем минимальное из значений, которые вернут вызовы.


## [Задача 10. Перетягивание каната](./src/tasks/task10.rs)

*Ограничение по времени: 3 с. Ограничение по памяти: 16 Mb.*

Для участия в соревнованиях по перетягиванию каната зарегистрировалось N человек. Некоторые из участников могут быть знакомы друг с другом. Причем, если двое из них имеют общего знакомого, то это не означает, что они обязательно знакомы друг с другом.

Организаторы соревнований заинтересованы в их качественном проведении. Они хотят разделить всех участников на две команды так, чтобы в первой команде было K человек, а во второй – N-K человек. Из всех возможных вариантов формирования команд организаторы хотят выбрать такой вариант, при котором сумма сплоченностей обеих команд максимальна. Сплоченностью команды называется количество пар участников этой команды, знакомых друг с другом. Ваша задача – помочь организаторам найти требуемое разделение участников на две команды.

### Формат входных данных:

В первой строке входного файла INPUT.TXT задаются три числа N, K, M, разделенные одиночными пробелами, где N – общее число зарегистрированных участников, K – требуемое количество человек в первой команде, M – количество пар участников, знакомых друг с другом.

Каждая из следующих M строк содержит два различных числа, разделенные пробелом – номера двух участников, знакомых друг с другом. Все участники нумеруются от 1 до N.

Ограничения: все числа целые, `0 < K < N < 25`, `0 ≤ M ≤ N(N-1)/2`

### Формат выходных данных:

Выходной файл OUTPUT.TXT должен содержать одну строку, состоящую из K чисел, каждое из которых задает номер участника, попавшего в первую команду. Числа должны быть разделены пробелами. Если существует несколько решений данной задачи, то выведите любое из них.

### Примеры:

| INPUT.TXT                  | OUTPUT.TXT |
| -------------------------- | ---------- |
| 5 3 3<br>1 3<br>2 5<br>5 4 | 5 2 4      |

### Ход решения

Решение с помощью рекурсивного перебора: добавляем участника к первой команде запускаем функцию, получаем результат, потом добавляем ко второй команде и делаем то же самое, сравниваем и возвращаем наиболее сильную команду. Для хранения участников используется HashSet, связи представил как `HashMap<u16, HashSet<u16>>` - словарь по ключам хранятся номера участников, по значениям множество их знакомых.

## Автотесты

```
cd lab1
cargo test
```

Можно запустить:

- `task2`
- `task3`
- `big_int`
- `task7`
- `task10`

## [Бенчмарки](./benches/benchmarks.rs)

```
cd lab1
cargo bench
```

Можно запустить:

- `task10`
- `big_int`